# ==========================================
# EVOLUTION API CONFIGURATION
# ==========================================
# Copy this file to .env and fill in your values

# ==========================================
# SERVER CONFIGURATION
# ==========================================
SERVER_URL=https://your-domain.com
PORT=8080
CORS_ORIGIN=*
CORS_CREDENTIALS=true
DEL_INSTANCE=false

# ==========================================
# DATABASE CONFIGURATION
# ==========================================
# Options: postgresql, mysql
DATABASE_PROVIDER=postgresql

# PostgreSQL Connection String Format:
# postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public&sslmode=require
DATABASE_CONNECTION_URI=postgresql://adminuser:YourStrongPassword123!@whatsapp-postgres-server.postgres.database.azure.com:5432/evolution_db?schema=public&sslmode=require

DATABASE_CONNECTION_CLIENT_NAME=evolution_api
DATABASE_SAVE_DATA_INSTANCE=true
DATABASE_SAVE_DATA_NEW_MESSAGE=true
DATABASE_SAVE_MESSAGE_UPDATE=true
DATABASE_SAVE_DATA_CONTACTS=true
DATABASE_SAVE_DATA_CHATS=true

# ==========================================
# REDIS CONFIGURATION
# ==========================================
REDIS_ENABLED=true
REDIS_URI=redis://:YOUR_REDIS_PRIMARY_KEY@whatsapp-redis-cache.redis.cache.windows.net:6380
REDIS_PREFIX_KEY=evolution

# ==========================================
# AUTHENTICATION
# ==========================================
# Generate a strong random key: openssl rand -hex 32
AUTHENTICATION_API_KEY=your-secure-api-key-here
AUTHENTICATION_EXPOSE_IN_FETCH_INSTANCES=true

# ==========================================
# STORAGE CONFIGURATION (Azure Blob Storage)
# ==========================================
S3_ENABLED=true
S3_ACCESS_KEY=YOUR_STORAGE_ACCOUNT_NAME
S3_SECRET_KEY=YOUR_STORAGE_ACCOUNT_KEY
S3_BUCKET=evolution-media
S3_PORT=443
S3_ENDPOINT=https://YOUR_STORAGE_ACCOUNT.blob.core.windows.net
S3_USE_SSL=true

# ==========================================
# WHATSAPP SETTINGS
# ==========================================
QRCODE_COLOR=#198754
INSTANCE_EXPIRATION_TIME=false
CONFIG_SESSION_PHONE_CLIENT=Evolution API
CONFIG_SESSION_PHONE_NAME=Chrome

# ==========================================
# WEBHOOK GLOBAL SETTINGS
# ==========================================
WEBHOOK_GLOBAL_ENABLED=false
WEBHOOK_GLOBAL_URL=
WEBHOOK_GLOBAL_WEBHOOK_BY_EVENTS=false

# Available events:
# QRCODE_UPDATED, MESSAGES_SET, MESSAGES_UPSERT, MESSAGES_UPDATE,
# MESSAGES_DELETE, SEND_MESSAGE, CONTACTS_SET, CONTACTS_UPSERT,
# CONTACTS_UPDATE, PRESENCE_UPDATE, CHATS_SET, CHATS_UPSERT,
# CHATS_UPDATE, CHATS_DELETE, GROUPS_UPSERT, GROUP_UPDATE,
# GROUP_PARTICIPANTS_UPDATE, CONNECTION_UPDATE, LABELS_EDIT,
# LABELS_ASSOCIATION, CALL, NEW_JWT_TOKEN, TYPEBOT_START,
# TYPEBOT_CHANGE_STATUS

WEBHOOK_GLOBAL_EVENTS=QRCODE_UPDATED,MESSAGES_UPSERT,MESSAGES_UPDATE,CONNECTION_UPDATE

# ==========================================
# RABBITMQ CONFIGURATION (Optional)
# ==========================================
RABBITMQ_ENABLED=false
RABBITMQ_URI=amqp://admin:admin@localhost:5672

# ==========================================
# SQS CONFIGURATION (Optional)
# ==========================================
SQS_ENABLED=false
SQS_ACCESS_KEY_ID=
SQS_SECRET_ACCESS_KEY=
SQS_ACCOUNT_ID=
SQS_REGION=us-east-1

# ==========================================
# WEBSOCKET CONFIGURATION (Optional)
# ==========================================
WEBSOCKET_ENABLED=false

# ==========================================
# CHATWOOT INTEGRATION (Optional)
# ==========================================
CHATWOOT_MESSAGE_READ=true
CHATWOOT_MESSAGE_DELETE=true
CHATWOOT_IMPORT_DATABASE_CONNECTION_URI=
CHATWOOT_IMPORT_PLACEHOLDER_MEDIA_MESSAGE=true

# ==========================================
# OPENAI INTEGRATION (Optional)
# ==========================================
OPENAI_ENABLED=false
OPENAI_API_KEY=

# ==========================================
# TYPEBOT INTEGRATION (Optional)
# ==========================================
TYPEBOT_API_VERSION=latest
TYPEBOT_KEEP_OPEN=false

# ==========================================
# PROXY CONFIGURATION (Optional)
# ==========================================
PROXY_HOST=
PROXY_PORT=
PROXY_PROTOCOL=http
PROXY_USERNAME=
PROXY_PASSWORD=

# ==========================================
# LOGS CONFIGURATION
# ==========================================
LOG_LEVEL=ERROR,WARN,DEBUG,INFO,LOG,VERBOSE,DARK,WEBHOOKS
LOG_COLOR=true
LOG_BAILEYS=error

# ==========================================
# TELEMETRY (Optional - for Evolution API improvements)
# ==========================================
TELEMETRY_ENABLED=false

# ==========================================
# SSL/TLS CONFIGURATION (Optional)
# ==========================================
SSL_CONF_PRIVKEY=
SSL_CONF_FULLCHAIN=
